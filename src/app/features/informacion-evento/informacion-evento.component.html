<section class="info-evento-container" id="info">
  <h2>Información del Evento</h2>
  <p class="subtitle">Haz clic en una disciplina para ver los detalles, el reglamento y el mapa del recorrido.</p>

  <div class="disciplinas-selector">
    @for (disciplina of disciplinas(); track disciplina.nombre) {
      <button 
        class="disciplina-btn" 
        [class.active]="selectedDiscipline() === disciplina"
        (click)="selectDiscipline(disciplina)">
        {{ disciplina.nombre }}
      </button>
    }
  </div>

  @if (selectedDiscipline(); as disciplina) {
    <div class="modal-overlay" (click)="closeDetail()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <button class="close-btn" (click)="closeDetail()" aria-label="Cerrar detalles">×</button>
        
        <!-- Pestañas de navegación -->
        <div class="modal-tabs">
          @for (disc of disciplinas(); track disc.nombre) {
            <button 
              class="tab-btn" 
              [class.active]="selectedDiscipline() === disc"
              (click)="selectDiscipline(disc)">
              {{ disc.nombre }}
            </button>
          }
        </div>

        <h3>{{ disciplina.nombre }}</h3>
        
        <div class="detalle-content">
          <div class="texto-info">
            <h4>Reglamento</h4>
            <p style="white-space: pre-line;">{{ disciplina.reglamento }}</p>
            
            <h4>Reglas Clave</h4>
            <p style="white-space: pre-line;">{{ disciplina.reglas }}</p>
          </div>
          
          <div class="mapa-info">
            <h4>Mapa del Recorrido</h4>
            <img [src]="disciplina.mapaUrl" [alt]="'Mapa del recorrido de ' + disciplina.nombre" class="mapa-img">
          </div>
        </div>
      </div>
    </div>
  }
  <button class="btn-resultados-anterior" (click)="verResultadosAnteriores()">
    Ver resultados de la anterior competencia
  </button>
</section>
